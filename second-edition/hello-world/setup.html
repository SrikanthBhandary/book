<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Setting up a development environment - The intermezzOS Book</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="../src/theme/extra.css">
        

        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="affix"><a href="../preface.html">Preface</a></li><li><a href="../background/index.html"><strong aria-hidden="true">1.</strong> Background</a></li><li><ol class="section"><li><a href="../background/what.html"><strong aria-hidden="true">1.1.</strong> What is an OS?</a></li><li><a href="../background/what-kind-is-there.html"><strong aria-hidden="true">1.2.</strong> What kinds of OS are there?</a></li><li><a href="../background/what-kind-are-we-making.html"><strong aria-hidden="true">1.3.</strong> What kind are we making?</a></li><li><a href="../background/tools.html"><strong aria-hidden="true">1.4.</strong> What tools will we use?</a></li></ol></li><li><a href="../hello-world/index.html"><strong aria-hidden="true">2.</strong> From Zero to &quot;Hello, world!&quot;</a></li><li><ol class="section"><li><a href="../hello-world/setup.html" class="active"><strong aria-hidden="true">2.1.</strong> Setting up a development environment</a></li><li><a href="../hello-world/setting-up-a-project.html"><strong aria-hidden="true">2.2.</strong> Setting up a project</a></li><li><a href="../hello-world/from-zero-to-start-in-detail.html"><strong aria-hidden="true">2.3.</strong> From zero to _start in detail</a></li></ol></li><li><a href="../fractal-learning.html"><strong aria-hidden="true">3.</strong> Interlude: fractal learning</a></li><li><a href="../vga/index.html"><strong aria-hidden="true">4.</strong> Printing to the screen: a text mode VGA driver</a></li><li><ol class="section"><li><a href="../vga/hello-world.html"><strong aria-hidden="true">4.1.</strong> A VGA &quot;hello world&quot;</a></li><li><a href="../vga/understanding-text-mode.html"><strong aria-hidden="true">4.2.</strong> Understanding text mode</a></li><li><a href="../vga/nicer-implementation.html"><strong aria-hidden="true">4.3.</strong> A nicer implementation</a></li><li class="spacer"></li></ol></li><li><a href="../appendix/target-specifications.html">Appendix A: target specifications</a></li><li class="affix"><a href="../appendix/hexadecimal-numbers.html">Appendix B: hexadecimal numbers</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">The intermezzOS Book</h1>

                        <div class="right-buttons">
                            <a href="../print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#setting-up-a-development-environment" id="setting-up-a-development-environment">Setting up a development environment</a></h1>
<p>Traditionally, getting a development environment set up for working on an
operating system is really hard. However, we have it pretty easy! We'll be
using the <a href="https://www.rust-lang.org/">Rust programming language</a> to develop our kernel, and thanks to
some awesome work by the language developers, as well as the homebrew Rust
operating system community, getting our environment set up is really easy.</p>
<p>To get going, you'll need a few tools:</p>
<ul>
<li>An editor or IDE to write the source code</li>
<li>A compiler and other tools to turn that source code into binary code</li>
<li>A virtual machine to try our OS out without installing it on our computer</li>
<li>A project directory to do develop in</li>
</ul>
<p>You can get all of these tools working on Windows, macOS, and Linux. Other
operating systems may work, but we've only tried this on these systems. This
section is the only one with OS-specific instructions; from here on out,
everything will be identical.</p>
<h2><a class="header" href="#an-editor-or-ide" id="an-editor-or-ide">An editor or IDE</a></h2>
<p>This is needed, but is also largely a personal choice. You can use whatever
you'd like here, and that's 100% fine.</p>
<p>If you're not sure what to use, I do have two recommendations though. If
you prefer text editiors, give <a href="https://code.visualstudio.com/">Visual Studio: Code</a> a try. It's fairly
light-weight, but also has some nice features, and a great Rust plugin
provided by the Rust team.</p>
<p>If you prefer IDEs, I'd suggest <a href="https://www.jetbrains.com/clion/">Clion</a> with the Rust plugin. JetBrains
makes a suite of IDEs for a ton of languages, and their Rust support is
solid!</p>
<p>Really, anything works though: I use both of the above, and also <code>vim</code> at
times. It's just not a huge deal.</p>
<h2><a class="header" href="#the-compiler-and-other-tools" id="the-compiler-and-other-tools">The compiler and other tools</a></h2>
<p>Next, we need to get the Rust compiler installed. To do that, head to
<a href="https://www.rust-lang.org/en-US/install.html">Rust's install page</a> and follow the instructions. You can also install
Rust another way if you'd prefer, such as from your system's package
manager, but through the website is generally easiest.</p>
<p>This will give you a tool called <code>rustup</code>, used to manage versions of
<code>rustc</code>, the Rust compiler, and Cargo, the package manager and
build tool. To check that this was installed properly, run these
three commands and check that you get some output:</p>
<pre><code class="language-bash">$ rustup --version
$ rustc --version
$ cargo --version
</code></pre>
<p>If you do, everything's good!</p>
<h3><a class="header" href="#stable-vs-nightly-rust" id="stable-vs-nightly-rust">Stable vs. Nightly Rust</a></h3>
<p>One of the reasons that it's easiest is that you can't use any version
of Rust to develop OSes; you need &quot;nightly&quot; Rust. Basically, Rust comes
in different flavors, and in order to develop operating systems, we need
to use some experimental, cutting-edge features. As such, we can't use
the stable Rust distribution, we need the nightly one.</p>
<p>To install nightly, do this:</p>
<pre><code class="language-bash">$ rustup update nightly
</code></pre>
<p>This will download and install the nightly toolchain. We'll configure the
use of this toolchain automatically in the next section.</p>
<h3><a class="header" href="#other-tools" id="other-tools">Other tools</a></h3>
<p>We need to install two more tools for building our OS. The first is
called <code>bootimage</code>, and its job is to take our kernel and produce a file
that our virtual machine (discussed in the next section) knows how to
run. To install it:</p>
<pre><code class="language-bash">$ cargo install bootimage
</code></pre>
<p>To check that it installed correctly, run this:</p>
<pre><code class="language-bash">$ bootimage --help
</code></pre>
<p>And you should see a help message printed to the screen.</p>
<p>The second tool is called <code>cargo-xbuild</code>. It extends Cargo, allowing us to
build Rust's core libraries for other OSes than the ones provided by the Rust
team. To install it:</p>
<pre><code class="language-bash">$ cargo install cargo-xbuild
</code></pre>
<p>And to check that it was installed correctly, run this:</p>
<pre><code class="language-bash">$ cargo xbuild --version
</code></pre>
<p>And make sure that you get some version output.</p>
<p>Additionally, to do its job, <code>cargo-xbuild</code> needs the source code for these
core libraries; to get those, run this:</p>
<pre><code class="language-bash">$ rustup component add rust-src --toolchain=nightly
</code></pre>
<p>With that, we're all set up!</p>
<h2><a class="header" href="#a-virtual-machine" id="a-virtual-machine">A virtual machine</a></h2>
<p>In order to see that your code runs, you <em>could</em> install it on a real computer,
but that is way too complex for regular development. Instead, we can use a virtual
machine to give our OS a try locally.</p>
<p>There's a few options, but for this, we'll use <a href="https://www.qemu.org/">Qemu</a>. Qemu works on all of our
platforms, and has enough features for us too. <a href="https://www.qemu.org/download/">Qemu's downloads page</a> should help
you get it installed.</p>
<p>To check that it's working, try this:</p>
<pre><code class="language-bash">$  qemu-system-x86_64 --version
</code></pre>
<p>And make sure it spits out a version number.</p>
<h2><a class="header" href="#a-project-directory" id="a-project-directory">A project directory</a></h2>
<p>Finally, we need to put our source code somewhere. This can be wherever you'd like,
but for this book, we'll call ours <code>~/src/</code>. You'll see examples have this path in
the output, just to have something, but you can do this anywhere you'd like. We'll
call this &quot;your project directory&quot; a few times in the book, and we mean wherever you
decided to put stuff.</p>
<h2><a class="header" href="#thats-it" id="thats-it">That's it!</a></h2>
<p>With that, we're done! Let's actually get some code going!</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../hello-world/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../hello-world/setting-up-a-project.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="../hello-world/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="../hello-world/setting-up-a-project.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
